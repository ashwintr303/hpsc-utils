# Busybox configs

Busybox configs are stored out of tree, because the busybox source
tree is not the right place for it. The configs are stored in
miniconfig format, similar to Linux kernel's defconfig format.
This format is different from raw autogenerated .config file,
and is human readable and editable. It does not store default
settings and settings of transitive dependencies.

## Usage

To generate a .config from a miniconfig file `profile_miniconfig`:

    make allnoconfig KCONFIG_ALLCONFIG="profile_miniconfig"

To generate a miniconfig from a .config (takes several minutes),
make a copy of the `.config`, remove the timestamp, and run
miniconfig tool:

    mv .config profile.config
    sed -i '4d' profile.config
    miniconfig.sh profile.config
    mv mini.config profile_miniconfig

The miniconfig.sh script is shipped in `host/` and its upstream
location is at [1].

## Known issues

A recent regression in busybox (0b1c62934215a08351a80977c7cf8e9346683a1e)
broke KCONFIG_ALLCONFIG and thus the miniconfig use case. Revert it
to apply and to generate miniconfig files.

https://bugs.busybox.net/show_bug.cgi?id=10296

## Resources

More information about miniconfig is here:

[1] http://landley.net/hg/aboriginal/file/c8293b3ab81f/more/miniconfig.sh
[2] http://landley.net/aboriginal/FAQ.html#dev_miniconfig
[3] https://lwn.net/Articles/161086/
[4] http://lists.uclibc.org/pipermail/uclibc/2007-March/017612.html
